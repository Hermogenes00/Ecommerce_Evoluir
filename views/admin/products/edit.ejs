<%- include('../../partials/header') %>
<%- include('../../partials/navbaradmin') %>


<div class="container mt-5">
    <div class="card">
        <div class="card-header">
            Edição do Produto
        </div>
        <div class="card-body">
            <form action="/admin/products/update" method="POST" class="form">
                <div class="row">
                    <div class="col">
                        <label for="nome">Nome</label>
                        <input type="text" value="<%= product.nome %>" name="nome" id="nome"
                            class="form-control form-control-sm">
                    </div>

                </div>
                <div class="row">
                    <div class="col">
                        <label for="codRef">Cod.Ref</label>
                        <input type="text" value="<%= product.codRef %>" name="codRef" id="codRef"
                            class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <label for="codRef">Categoria</label>
                        <select onchange="localizarSubCategoria(event)" name="categoria"
                            data-id="<%=product.categoria.id %>" id="categoria" class="form-control form-control-sm">
                        </select>
                    </div>
                    <div class="col">
                        <label for="codRef">SubCategoria</label>
                        <select name="subCategoria" id="subCategoria" class="form-control form-control-sm">
                            <option value="<%=product.subcategoria.id %>"><%=product.subcategoria.nome %></option>
                        </select>
                    </div>
                </div>
                <hr>
                <div class="row">

                    <div class="col">
                        <label for="descricao">Descricao</label>
                        <textarea name="descricao" id="descricao"><%= product.descricao %></textarea>
                    </div>

                </div>
                <hr>
                <div class="row">
                    <div class="col-md-3">
                        <label for="tamFinalAltura">Tam.Final-Altura</label>
                        <input type="text" placeholder="150" name="tamFinalAltura"
                            value="<%= parseFloat(product.tamFinalAltura).toLocaleString('pt-br')%>" id="tamFinalAltura"
                            required class="form-control form-control-sm">
                    </div>
                    <div class="col-md-3">
                        <label for="tamFinalLargura">Tam.Final-Largura</label>
                        <input type="text" placeholder="150" name="tamFinalLargura"
                            value="<%= parseFloat(product.tamFinalLargura).toLocaleString('pt-br') %>"
                            id="tamFinalLargura" required class="form-control form-control-sm">
                    </div>

                    <div class="col">
                        <label for="tamSangriaLargura">Tam.Sangria-Largura</label>
                        <input type="text" placeholder="150"
                            value="<%= parseFloat(product.tamSangriaLargura).toLocaleString('pt-br') %>"
                            name="tamSangriaLargura" id="tamSangriaLargura" required
                            class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <label for="tamSangriaAltura">Tam.Sangria-Altura</label>
                        <input type="text" placeholder="150"
                            value="<%= parseFloat(product.tamSangriaAltura).toLocaleString('pt-br') %>"
                            name="tamSangriaAltura" id="tamSangriaAltura" required class="form-control form-control-sm">
                    </div>
                </div>

                <div class="row">

                    <div class="col">
                        <label for="material">Material</label>
                        <input type="text" value="<%= product.material %>" name="material" id="material"
                            class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <label for="gramatura">Gramatura</label>
                        <input type="text" value="<%= parseFloat(product.gramatura).toLocaleString('pt-br') %>"
                            name="gramatura" id="gramatura" class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <label for="peso">Peso</label>
                        <input type="text" placeholder="Ex: 150"
                            value="<%= parseFloat(product.peso).toLocaleString('pt-br') %>" name="peso" id="peso"
                            class="form-control form-control-sm">
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col">
                        <label for="vlrProduto">Vlr Produto</label>
                        <input type="text" value="<%= parseFloat(product.vlrProduto).toLocaleString('pt-br') %>"
                            name="vlrProduto" id="vlrProduto" class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <label for="qtd">Quantidade</label>
                        <input type="text" value="<%=product.qtd%>" name="qtd" id="qtd"
                            class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <label for="qtd">Und</label>
                        <select name="und" id="und" class="form-control form-control-sm">
                            <option <%=product.und=='und'?'selected':'' %> value="und">Und</option>
                            <option <%=product.und=='metroQuadrado'?'selected':''%> value="metroQuadrado">M²</option>
                        </select>
                    </div>                   
                    <div class="col">
                        <label for="qtd">Prev. Produção</label>
                        <input type="number" name="previsaoProducao" id="previsaoProducao"
                            class="form-control form-control-sm" value="<%=product.previsaoProducao%>">
                    </div>
                    <div class="col">
                        <label for="propriedadeDivisao">Propriedade de Divisão</label>
                        <input type="number" required value="<%=product.propriedadeDivisao%>" name="propriedadeDivisao"
                            id="propriedadeDivisao" class="form-control form-control-sm">
                    </div>
                </div>

                <input type="hidden" name="id" value="<%= product.id %>">

                <div class="mt-3" style=" float: right;">
                    <a href="/collaborator/find/all" class="btn btn-outline-primary">Cancelar</a>
                    <input type="submit" class="btn btn-primary" value="Salvar">
                </div>

            </form>
        </div>
    </div>
</div>




<%- include('../../partials/footer') %>

<script src="/js/categoria.js"></script>